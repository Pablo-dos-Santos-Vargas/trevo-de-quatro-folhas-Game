
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trevo de Quatro Folhas üçÄ</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #ccff99;
      text-align: center;
      padding: 30px;
    }
    .card {
      background: #1b1b1b;
      border: 2px solid #39ff14;
      border-radius: 10px;
      padding: 30px;
      box-shadow: 0 0 20px #39ff14;
      max-width: 800px;
      margin: auto;
    }
    button {
      padding: 10px 20px;
      margin: 10px;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
    }
    .verde { background: #39ff14; color: #000; }
    .amarelo { background: #FFC107; color: #000; }
    .vermelho { background: #F44336; color: white; }
    .score { font-weight: bold; font-size: 18px; margin-top: 10px; }
    select, .next-btn, input[type=number] {
      font-size: 16px;
      padding: 5px;
      border-radius: 5px;
      border: 1px solid #39ff14;
      background: #000;
      color: #ccff99;
    }
    #timer {
      font-size: 24px;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <div class="card" id="setup">
    <h1>Trevo de Quatro Folhas üçÄ</h1>
    <h2>Escolha o n√∫mero de jogadores (at√© 6):</h2>
    <input type="number" id="numJogadores" min="1" max="6" value="2"><br><br>
    <button onclick="iniciarJogo()" class="verde">Iniciar Jogo</button>
    <button onclick="abrirManual()" class="amarelo">üìò Manual do Jogo</button>
  </div>

  <div class="card" id="jogo" style="display:none;">
    <h1>Classifique a Atividade</h1>
    <label for="jogadorAtual">Jogador atual:</label>
    <select id="jogadorAtual"></select>
    <p id="atividade"></p>
    <div id="timer">30</div>
    <button class="verde" onclick="responder('verde')">Verde</button>
    <button class="amarelo" onclick="responder('amarelo')">Amarelo</button>
    <button class="vermelho" onclick="responder('vermelho')">Vermelho</button>
    <p id="feedback"></p>
    <div id="placar"></div>
    <button class="next-btn verde" onclick="proximaAtividade()">Pr√≥xima Atividade</button>
  </div>

  <div id="manualModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:#000c; z-index:9999;">
    <div style="background:#1b1b1b; color:#ccff99; padding:20px; max-width:800px; margin:50px auto; border-radius:10px; border:2px solid #39ff14; box-shadow:0 0 10px #39ff14; overflow:auto; max-height:80%;">
      <h2>üìò Manual do Jogo</h2>
      <p><strong>Objetivo:</strong> Classificar corretamente as atividades da produ√ß√£o de cerveja:</p>
      <ul>
        <li><span style="color:#39ff14;">Verde:</span> atividades que agregam valor</li>
        <li><span style="color:#FFC107;">Amarelo:</span> n√£o agregam valor, mas s√£o necess√°rias</li>
        <li><span style="color:#F44336;">Vermelho:</span> n√£o agregam valor</li>
      </ul>
      <p><strong>Componentes:</strong></p>
      <ul>
        <li>Cartas com atividades</li>
        <li>Marcadores coloridos</li>
        <li>Tabuleiro (opcional)</li>
        <li>Papel e caneta</li>
        <li>Cron√¥metro</li>
        <li>Mediador (opcional)</li>
      </ul>
      <p><strong>Regras:</strong></p>
      <ol>
        <li>Sorteie uma carta</li>
        <li>Classifique em at√© 30s</li>
        <li>Pontue conforme sua resposta</li>
      </ol>
      <p><strong>Pontua√ß√£o:</strong></p>
      <ul>
        <li>Verde: +3 pts</li>
        <li>Amarelo: +2 pts</li>
        <li>Vermelho: +1 pt</li>
        <li>Erro grave: -3 pts</li>
        <li>Erro leve: -2 pts</li>
        <li>Tempo excedido: -1 pt</li>
        <li>5 acertos seguidos: +5 pts b√¥nus</li>
      </ul>
      <p><strong>Fim:</strong> Vence quem tiver mais pontos ao final das rodadas.</p>
      <button onclick="fecharManual()" class="vermelho">Fechar</button>
    </div>
  </div>

  <script>
    const atividades = [
      { texto: 'Moagem dos gr√£os', cor: 'verde' },
      { texto: 'Cozimento do mosto', cor: 'verde' },
      { texto: 'Clarifica√ß√£o', cor: 'verde' },
      { texto: 'Centrifuga√ß√£o (whirlpool)', cor: 'verde' },
      { texto: 'Fervura', cor: 'verde' },
      { texto: 'Fermenta√ß√£o', cor: 'verde' },
      { texto: 'Matura√ß√£o', cor: 'verde' },
      { texto: 'Envase', cor: 'verde' },
      { texto: 'Definir receita', cor: 'verde' },
      { texto: 'Medi√ß√£o de densidade', cor: 'verde' },
      { texto: 'Resfriamento at√© temperatura de fermenta√ß√£o', cor: 'verde' },
      { texto: 'Pasteuriza√ß√£o', cor: 'amarelo' },
      { texto: 'Comprar materiais', cor: 'amarelo' },
      { texto: 'Limpeza e higieniza√ß√£o', cor: 'amarelo' },
      { texto: 'Sanitiza√ß√£o de equipamentos', cor: 'amarelo' },
      { texto: 'Reuni√µes de planejamento', cor: 'amarelo' },
      { texto: 'Recebimento de insumos', cor: 'amarelo' },
      { texto: 'Design do r√≥tulo', cor: 'amarelo' },
      { texto: 'Repeti√ß√£o de medi√ß√µes', cor: 'amarelo' },
      { texto: 'Controle manual de temperatura', cor: 'amarelo' },
      { texto: 'Checklists mal preenchidos', cor: 'amarelo' },
      { texto: 'Atividades burocr√°ticas desnecess√°rias', cor: 'vermelho' },
      { texto: 'Movimenta√ß√£o in√∫til de operadores', cor: 'vermelho' },
      { texto: 'Falhas na comunica√ß√£o', cor: 'vermelho' },
      { texto: 'Inspe√ß√£o excessiva', cor: 'vermelho' },
      { texto: 'Espera por manuten√ß√£o', cor: 'vermelho' },
      { texto: 'Retrabalho ou corre√ß√£o de erros', cor: 'vermelho' },
      { texto: 'Reuni√µes longas sem a√ß√£o', cor: 'vermelho' },
      { texto: 'Testes fora do padr√£o', cor: 'vermelho' },
      { texto: 'Espera por ordens', cor: 'vermelho' },
      { texto: 'Processos manuais', cor: 'vermelho' },
      { texto: 'Paradas por falta de insumos', cor: 'vermelho' },
      { texto: 'Esperas', cor: 'vermelho' }
    ];
    atividades.sort(() => Math.random() - 0.5);
    let jogadores = [], pontuacoes = [], sequencias = [], indice = 0, timer;
    function iniciarJogo() {
      const num = parseInt(document.getElementById('numJogadores').value);
      if (num < 1 || num > 6) {
        alert("N√∫mero inv√°lido de jogadores. Escolha entre 1 e 6."); return;
      }
      jogadores = [], pontuacoes = [], sequencias = [];
      for (let i = 0; i < num; i++) {
        jogadores.push(`Jogador ${i + 1}`); pontuacoes.push(0); sequencias.push(0);
      }
      const select = document.getElementById("jogadorAtual");
      select.innerHTML = "";
      jogadores.forEach((j, i) => {
        const opt = document.createElement("option");
        opt.value = i; opt.textContent = j; select.appendChild(opt);
      });
      document.getElementById("setup").style.display = "none";
      document.getElementById("jogo").style.display = "block";
      mostrarAtividade();
    }
    function mostrarAtividade() {
      document.getElementById('atividade').textContent = atividades[indice].texto;
      document.getElementById('feedback').textContent = '';
      iniciarTimer(); atualizarPlacar();
    }
    function iniciarTimer() {
      let tempo = 30;
      document.getElementById("timer").textContent = tempo;
      clearInterval(timer);
      timer = setInterval(() => {
        tempo--;
        document.getElementById("timer").textContent = tempo;
        if (tempo <= 0) {
          clearInterval(timer);
          document.getElementById('feedback').textContent = '‚è±Ô∏è Tempo esgotado!';
          responder('');
        }
      }, 1000);
    }
    function responder(cor) {
      clearInterval(timer);
      const jogadorIndex = parseInt(document.getElementById("jogadorAtual").value);
      const correta = atividades[indice].cor;
      let pontos = 0;
      let erroGrave = (cor === 'verde' && correta === 'vermelho') || (cor === 'vermelho' && correta === 'verde');
      if (cor === correta) {
        pontos = (cor === 'verde') ? 3 : (cor === 'amarelo') ? 2 : 1;
        sequencias[jogadorIndex]++;
        document.getElementById('feedback').textContent = '‚úÖ Correto!';
        if (sequencias[jogadorIndex] === 5) {
          pontos += 5;
          alert(`${jogadores[jogadorIndex]} ganhou b√¥nus de +5 pontos por 5 acertos seguidos!`);
          sequencias[jogadorIndex] = 0;
        }
      } else {
        sequencias[jogadorIndex] = 0;
        pontos = erroGrave ? -3 : -2;
        if (cor === '') pontos = -1;
        document.getElementById('feedback').textContent = '‚ùå Errado!';
      }
      pontuacoes[jogadorIndex] += pontos;
      atualizarPlacar();
    }
    function proximaAtividade() {
      indice++;
      if (indice >= atividades.length) {
        document.getElementById('atividade').textContent = 'üèÅ Fim do jogo!';
        document.getElementById('feedback').textContent = '';
        clearInterval(timer);
      } else {
        mostrarAtividade();
      }
    }
    function atualizarPlacar() {
      let placarHTML = '<h3>Placar</h3>';
      jogadores.forEach((j, i) => {
        placarHTML += `<p>${j}: ${pontuacoes[i]} pontos</p>`;
      });
      document.getElementById('placar').innerHTML = placarHTML;
    }
    function abrirManual() {
      document.getElementById("manualModal").style.display = "block";
    }
    function fecharManual() {
      document.getElementById("manualModal").style.display = "none";
    }
  </script>
</body>
</html>
